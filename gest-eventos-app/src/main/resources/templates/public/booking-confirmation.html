<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Estado de Confirmación</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <style>
      /* Estilos personalizados para centrar y dar un toque de color */
      body {
        background-color: #f8f9fa; /* Color de fondo ligero */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }

      .confirmation-card {
        max-width: 600px;
        width: 90%;
        padding: 2.5rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      }
    </style>
  </head>
  <body>
    <div class="card confirmation-card">
      <div class="card-body">
        <div th:if="${status == 'SUCCESS'}" class="text-center">
          <svg
            id="Layer_1"
            data-name="Layer 1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 122.88 101.6"
            style="height: 60px; width: 60px"
          >
            <defs>
              <style>
                .cls-1 {
                  fill: #10a64a;
                }
              </style>
            </defs>
            <title>tick-green</title>
            <path
              class="cls-1"
              d="M4.67,67.27c-14.45-15.53,7.77-38.7,23.81-24C34.13,48.4,42.32,55.9,48,61L93.69,5.3c15.33-15.86,39.53,7.42,24.4,23.36L61.14,96.29a17,17,0,0,1-12.31,5.31h-.2a16.24,16.24,0,0,1-11-4.26c-9.49-8.8-23.09-21.71-32.91-30v0Z"
            />
          </svg>
          <h2 class="card-title text-success mb-4" th:text="${mensaje}">
            ¡Tu reserva ha sido confirmada exitosamente!
          </h2>

          <p class="text-muted">Aquí están los detalles de tu cita:</p>

          <ul class="list-group list-group-flush mb-4 text-start">
            <li class="list-group-item">
              <strong class="text-primary">ID de Reserva:</strong>
              <span th:text="${reserva.id}">[ID]</span>
            </li>
            <li class="list-group-item">
              <strong class="text-primary">Servicio:</strong>
              <span th:text="${reserva.servicio.titulo}"
                >[Nombre del Servicio]</span
              >
            </li>
            <li class="list-group-item">
              <strong class="text-primary">Fecha y Hora:</strong>
              <span
                th:text="${#temporals.format(reserva.fechaInicio, 'EEEE, dd MMMM yyyy, HH:mm')}"
              ></span>
            </li>
            <li class="list-group-item">
              <strong class="text-primary">Finaliza:</strong>
              <span
                th:text="${#temporals.format(reserva.fechaFin, 'HH:mm')}"
              ></span>
            </li>
            <li class="list-group-item">
              <strong class="text-primary">Cliente:</strong>
              <span th:text="${reserva.cliente.nombre}">[Nombre Cliente]</span>
            </li>
          </ul>

          <a href="/" class="btn btn-primary btn-lg mt-3"
            >Volver a la Página del Ofertador</a
          >
        </div>

        <div th:if="${status != 'SUCCESS'}" class="text-center">
          <svg
            class="text-danger mb-3"
            width="60"
            height="60"
            fill="currentColor"
            viewBox="0 0 16 16"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"
            />
          </svg>
          <h2 class="card-title text-danger mb-4">Error en la Confirmación</h2>

          <p class="text-muted">
            No pudimos procesar tu solicitud por el siguiente motivo:
          </p>

          <div class="alert alert-warning" role="alert">
            <strong th:text="${mensaje}"
              >[Mensaje de Error: Token Expirado/Inválido]</strong
            >
          </div>

          <p th:if="${status == 'ERROR'}" class="mt-3">
            Revisa si el enlace es el correcto o si el tiempo de confirmación ha
            caducado.
          </p>
          <p th:if="${status == 'FATAL_ERROR'}" class="mt-3">
            Si el problema persiste, por favor, contacta a nuestro equipo de
            soporte técnico.
          </p>

          <a href="#" class="btn btn-secondary mt-3">Volver a Intentarlo</a>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
